<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script type="text/javascript">
    var studentArr=[{"stuName":"张三","stuNo":"1001","stuAge":18,"stuSex":"女","stuClassNo":184},
        {"stuName":"李四","stuNo":"1002","stuAge":28,"stuSex":"男","stuClassNo":184},
        {"stuName":"王五","stuNo":"1003","stuAge":38,"stuSex":"男","stuClassNo":184}
    ]
    menu();
    function menu() {
        var choice = prompt("娜姐管理系统 \n 1. 添加   2. 删除 \n3.修改   4. 查询\n 5. 退出");
        switch (choice) {
            case "1":
                add();
                break;
            case "2":
                del();
                break;
            case "3":
                modify();
                break;
            case "4":
                query();
                break;
            case "5":
                exit();
                break;
            default:
                alert("请输入1-5");
                menu();
                break;
        }
    }
    function exit() {

    }
    function add() {
        var addName = prompt("请输入姓名");
        var addNo = prompt("请输入学号");
        var addSex = prompt("请输入性别");
        var addAge = parseInt(prompt("请输入年龄"));
        var addClass = parseInt(prompt("请输入班级"));
        var result = addChuLi(addName,addNo,addAge,addSex,addClass);
        if(result){
            alert("添加成功");
        }else{
            alert("添加失败");
        }
        menu();
    }

    function del() {
        var stuNo = prompt("请输入学号");
        var result = delChuli(stuNo);
        if(result){

        }else{

        }
        menu();
    }
    function modify() {
        var stuno= prompt("请输入你的学号");
        var result = checkNoExist(stuno); //检查学号是否存在
        if(result==-1){
            alert("学号不存在");
        }else {
            var addName = prompt("请输入姓名");
            var addSex = prompt("请输入性别");
            var addAge = parseInt(prompt("请输入年龄"));
            var addClass = parseInt(prompt("请输入班级"));
            modifyChuli(addName,addSex,addAge,addClass,result);
        }
    }
    function modifyChuli(addName,addSex,addAge,addClass,modifyIndex) {
        studentArr[modifyIndex].stuName =addName;
        studentArr[modifyIndex].stuSex =addSex;
        studentArr[modifyIndex].stuAge =addAge;
        studentArr[modifyIndex].stuClassNo =addClass;
    }
    function query() {
         var stuno= prompt("请输入你的学号");
         var result= queryChuli(stuno);

         menu();
    }
    function queryChuli(stuno){
        var result = checkNoExist(stuno);
        if(result==-1){
            alert("学号不存在");
        }else{
            alert(studentArr[result].stuName+","+studentArr[result].stuNo+","+studentArr[result].stuAge+studentArr[result].stuClassNo);
        }
    }
   function delChuli(stuNo) {
       // 1. 查看这个存不存
      var result = checkNoExist(stuNo);
      if(result==-1){
          alert("学号不存在");
      }else{
          studentArr.splice(result,1);
          alert("删除成功");
      }
       menu();
   }
    function addChuLi(addName,addNo,addAge,addSex,addClass){
        var addObject={"stuName":addName,"stuNo":addNo,"stuAge":addAge,"stuSex":addSex,"stuClassNo":addClass};
        studentArr.push(addObject);
        return true;
    }
    function checkNoExist(stuNo){
        var isExist = -1;
        for(var i=0;i<studentArr.length;i++){
            if(stuNo==studentArr[i].stuNo){
                isExist = i;
                break;
            }
        }
        return isExist;
    }
</script>
</body>
</html>